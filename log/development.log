  [1m[35m (248.9ms)[0m  [1m[35mCREATE DATABASE "meru_api_development" ENCODING = 'unicode'[0m
  [1m[35m (99.4ms)[0m  [1m[35mCREATE DATABASE "meru_api_test" ENCODING = 'unicode'[0m
  [1m[35m (12.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5680391861931419850)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-08-09 00:58:07.692222', '2024-08-09 00:58:07.692224') RETURNING "key"[0m
Migrating to CreateProducts (20240808171046)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.8ms)[0m  [1m[35mCREATE TABLE "products" ("id" bigserial primary key, "name" character varying, "description" text, "price" decimal, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240808171046') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateUsers (20240808171705)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240808171705') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateBlacklists (20240809000408)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.7ms)[0m  [1m[35mCREATE TABLE "blacklists" ("id" bigserial primary key, "token" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240809000408') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(5680391861931419850)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/login" for 127.0.0.1 at 2024-08-08 19:58:45 -0500
  [1m[36mActiveRecord::SchemaMigration Load (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by SessionsController#create as */*
  Parameters: {"user"=>{"username"=>"vechicin", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"username"=>"vechicin", "password"=>"[FILTERED]"}}}
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.0ms | Allocations: 10116)


  
LoadError (cannot load such file -- bcrypt):
  
app/models/user.rb:2:in `<class:User>'
app/models/user.rb:1:in `<main>'
app/controllers/sessions_controller.rb:4:in `create'
Started POST "/login" for 127.0.0.1 at 2024-08-08 20:09:01 -0500
  [1m[36mActiveRecord::SchemaMigration Load (3.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by SessionsController#create as */*
  Parameters: {"user"=>{"username"=>"vechicin", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"username"=>"vechicin", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "vechicin"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:4:in `create'
Completed 401 Unauthorized in 62ms (Views: 0.1ms | ActiveRecord: 17.7ms | Allocations: 17584)


Started POST "/login" for 127.0.0.1 at 2024-08-08 20:09:15 -0500
Processing by SessionsController#create as */*
  Parameters: {"user"=>{"username"=>"vechicin", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"username"=>"vechicin", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "vechicin"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:4:in `create'
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 471)


Started POST "/users" for 127.0.0.1 at 2024-08-08 20:09:55 -0500
Processing by UsersController#create as */*
  Parameters: {"user"=>{"username"=>"vechicin", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/users_controller.rb:12:in `create'
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "vechicin"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:12:in `create'
  [1m[36mUser Create (3.9ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "vechicin"], ["password_digest", "[FILTERED]"], ["created_at", "2024-08-09 01:09:55.887302"], ["updated_at", "2024-08-09 01:09:55.887302"]]
  â†³ app/controllers/users_controller.rb:12:in `create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/users_controller.rb:12:in `create'
Completed 201 Created in 300ms (Views: 0.1ms | ActiveRecord: 16.9ms | Allocations: 11131)


Started POST "/login" for 127.0.0.1 at 2024-08-08 20:10:00 -0500
Processing by SessionsController#create as */*
  Parameters: {"user"=>{"username"=>"vechicin", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"username"=>"vechicin", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "vechicin"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:4:in `create'
Completed 200 OK in 279ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1005)


Started POST "/products" for 127.0.0.1 at 2024-08-08 20:10:51 -0500
Processing by ProductsController#create as */*
  Parameters: {"product"=>{"name"=>"Sample product", "description"=>"Sample product description", "price"=>19.99}}
  [1m[36mBlacklist Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "blacklists" WHERE "blacklists"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/services/jwt_service.rb:10:in `decode'
Filter chain halted as :authenticate_request rendered or redirected
Completed 401 Unauthorized in 5ms (Views: 0.1ms | ActiveRecord: 2.4ms | Allocations: 1543)


Started POST "/login" for 127.0.0.1 at 2024-08-08 20:11:33 -0500
Processing by SessionsController#create as */*
  Parameters: {"user"=>{"username"=>"vechicin", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"username"=>"vechicin", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "vechicin"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:4:in `create'
Completed 200 OK in 274ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 603)


Started POST "/products" for 127.0.0.1 at 2024-08-08 20:12:17 -0500
Processing by ProductsController#create as */*
  Parameters: {"product"=>{"name"=>"Product", "description"=>"Test description", "price"=>19.99}}
  [1m[36mBlacklist Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "blacklists" WHERE "blacklists"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/services/jwt_service.rb:10:in `decode'
Filter chain halted as :authenticate_request rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 515)


Started GET "/products" for 127.0.0.1 at 2024-08-08 20:12:40 -0500
Processing by ProductsController#index as */*
  Parameters: {"product"=>{"name"=>"Product", "description"=>"Test description", "price"=>19.99}}
  [1m[36mBlacklist Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "blacklists" WHERE "blacklists"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/services/jwt_service.rb:10:in `decode'
Filter chain halted as :authenticate_request rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 512)


Started GET "/products" for 127.0.0.1 at 2024-08-08 20:17:04 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as */*
  Parameters: {"product"=>{"name"=>"Product", "description"=>"Test description", "price"=>19.99}}
  [1m[36mBlacklist Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "blacklists" WHERE "blacklists"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/services/jwt_service.rb:10:in `decode'
Filter chain halted as :authenticate_request rendered or redirected
Completed 401 Unauthorized in 29ms (Views: 0.2ms | ActiveRecord: 11.6ms | Allocations: 6549)


Started POST "/login" for 127.0.0.1 at 2024-08-08 20:17:44 -0500
Processing by SessionsController#create as */*
  Parameters: {"user"=>{"username"=>"vechicin", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"username"=>"vechicin", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "vechicin"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:4:in `create'
Completed 200 OK in 294ms (Views: 0.1ms | ActiveRecord: 11.4ms | Allocations: 12065)


Started GET "/products" for 127.0.0.1 at 2024-08-08 20:18:06 -0500
Processing by ProductsController#index as */*
  Parameters: {"user"=>{"username"=>"vechicin", "password"=>"[FILTERED]"}, "product"=>{}}
  [1m[36mBlacklist Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "blacklists" WHERE "blacklists"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/services/jwt_service.rb:10:in `decode'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authenticate_request'
  [1m[36mProduct Load (1.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/controllers/products_controller.rb:6:in `index'
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 3.3ms | Allocations: 1755)


Started POST "/products" for 127.0.0.1 at 2024-08-08 20:18:18 -0500
Processing by ProductsController#create as */*
  Parameters: {"product"=>{"name"=>"Product", "description"=>"Test description", "price"=>19.99}}
  [1m[36mBlacklist Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "blacklists" WHERE "blacklists"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/services/jwt_service.rb:10:in `decode'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authenticate_request'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/products_controller.rb:17:in `create'
  [1m[36mProduct Create (1.9ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Product"], ["description", "Test description"], ["price", "19.99"], ["created_at", "2024-08-09 01:18:18.110236"], ["updated_at", "2024-08-09 01:18:18.110236"]]
  â†³ app/controllers/products_controller.rb:17:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:17:in `create'
Completed 201 Created in 9ms (Views: 0.2ms | ActiveRecord: 4.5ms | Allocations: 7922)


Started GET "/products" for 127.0.0.1 at 2024-08-08 20:18:22 -0500
Processing by ProductsController#index as */*
  Parameters: {"product"=>{"name"=>"Product", "description"=>"Test description", "price"=>19.99}}
  [1m[36mBlacklist Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "blacklists" WHERE "blacklists"."token" = $1 LIMIT $2[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/services/jwt_service.rb:10:in `decode'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authenticate_request'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/controllers/products_controller.rb:6:in `index'
Completed 200 OK in 3ms (Views: 0.6ms | ActiveRecord: 1.3ms | Allocations: 1530)


